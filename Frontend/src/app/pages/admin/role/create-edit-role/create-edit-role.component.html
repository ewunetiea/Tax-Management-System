<form ngNativeValidate #roleForm="ngForm" class="flex flex-col gap-8">
    <div class="flex flex-col gap-2">
        <label for="code"><strong class="text-red-500">*</strong>Code</label>
        <input
            id="code"
            type="text"
            pInputText
            [(ngModel)]="role.code"
            name="code"
            autocomplete="off"
            #regionName="ngModel"
            (input)="checkCodeStatus($event)"
            required
            [class.ng-invalid]="regionName.invalid && (regionName.touched || roleForm.submitted)"
            [class.ng-dirty]="regionName.dirty || regionName.touched"
        />
        <div *ngIf="regionName.errors && regionName.touched">
            <p-message severity="error" size="small" variant="simple" *ngIf="regionName?.errors?.['required']">Code is required</p-message>
            <p-message severity="error" size="small" variant="simple"  *ngIf="role_code_status">Role code already exists</p-message>
        </div>
    </div>

    <div class="flex flex-col gap-2">
        <label for="name"><strong class="text-red-500">*</strong>Name</label>
            <input
                type="text"
                pInputText
                class="form-control"
                id="floatingCode"
                required
                [(ngModel)]="role.name"
                name="name"
                autocomplete="off"
                (input)="checkNameStatus($event)"
                #name="ngModel"
                required
                [class.ng-invalid]="name.invalid && (name.touched || roleForm.submitted)"
                [class.ng-dirty]="name.dirty || name.touched"
            />
            <div *ngIf="name.errors && name.touched">
                <p-message severity="error" size="small" variant="simple" *ngIf="name?.errors?.['required']">Name is required</p-message>
                <p-message severity="error" size="small" variant="simple" *ngIf="role_name_status">Name already exists</p-message>
        </div>
        </div>

    <div class="flex flex-col gap-2">
        <label for="description"><strong class="text-red-500">*</strong>Description</label>
            <textarea
            id="floatingTextarea"
                pTextarea
                [autoResize]="true"
                class="form-control"
                [(ngModel)]="role.description"
                name="description"
                autocomplete="off"
                #description="ngModel"
                rows="5"
                [required]="true"
                [class.ng-invalid]="description.invalid && (description.touched || roleForm.submitted)"
                [class.ng-dirty]="description.dirty || description.touched"
            >
          </textarea>
        <div *ngIf="description.errors && description.touched">
            <p-message severity="error" size="small" variant="simple" *ngIf="description?.errors?.['required']">Description is required</p-message>
        </div>
      </div>

    <div class="flex flex-col gap-2">
   <label class="text-base font-medium"><strong class="text-red-500">*</strong> Role Position</label>
  <!-- Radio buttons group -->
  <div class="flex flex-wrap gap-4">
    <div class="w-1/3 flex items-center gap-3">
      <p-radioButton
        id="is"
        name="role_position"
        value="IS"
        #role_position="ngModel"
        [(ngModel)]="role.role_position"
        required
        [class.ng-invalid]="role_position.invalid && (role_position.touched || roleForm.submitted)"
        [class.ng-dirty]="role_position.dirty || role_position.touched"
      ></p-radioButton>
      <label for="is">IS</label>
    </div>

    <div class="w-1/3 flex items-center gap-2">
      <p-radioButton
        id="mgt"
        name="role_position"
        value="MGT"
        #role_position="ngModel"
        [(ngModel)]="role.role_position"
        required
        [class.ng-invalid]="role_position.invalid && (role_position.touched || roleForm.submitted)"
        [class.ng-dirty]="role_position.dirty || role_position.touched"
      ></p-radioButton>
      <label for="mgt">MGT</label>
    </div>

    <div class="w-1/3 flex items-center gap-2">
      <p-radioButton
        id="branch_financial"
        name="role_position"
        value="BFA"
        #role_position="ngModel"
        [(ngModel)]="role.role_position"
        required
        [class.ng-invalid]="role_position.invalid && (role_position.touched || roleForm.submitted)"
        [class.ng-dirty]="role_position.dirty || role_position.touched"
      ></p-radioButton>
      <label for="branch_financial">Financial</label>
    </div>

    <div class="w-1/3 flex items-center gap-2">
      <p-radioButton
        id="inspection"
        name="role_position"
        value="INS"
        #role_position="ngModel"
        [(ngModel)]="role.role_position"
        required
        [class.ng-invalid]="role_position.invalid && (role_position.touched || roleForm.submitted)"
        [class.ng-dirty]="role_position.dirty || role_position.touched"
      ></p-radioButton>
      <label for="inspection">Inspection</label>
    </div>

    <div class="w-1/3 flex items-center gap-2">
      <p-radioButton
        id="general"
        name="role_position"
        value="GENERAL"
        #role_position="ngModel"
        [(ngModel)]="role.role_position"
        required
        [class.ng-invalid]="role_position.invalid && (role_position.touched || roleForm.submitted)"
        [class.ng-dirty]="role_position.dirty || role_position.touched"
      ></p-radioButton>
      <label for="general">General</label>
    </div>
    <div class="w-1/3 flex items-center gap-2">
      <p-radioButton
        id="admin"
        name="role_position"
        value="ADMIN"
        #role_position="ngModel"
        [(ngModel)]="role.role_position"
        required
        [class.ng-invalid]="role_position.invalid && (role_position.touched || roleForm.submitted)"
        [class.ng-dirty]="role_position.dirty || role_position.touched"
      ></p-radioButton>
      <label for="admin">Admin</label>
    </div>
  </div>
  <div *ngIf="role_position.errors && role_position.touched">
      <p-message severity="error" size="small" variant="simple" *ngIf="role_position?.errors?.['required']">Role position is required</p-message>
   </div>
</div>

   <div class="flex gap-6">
  <div class="w-1/2 flex flex-col">
    <label for="status" class="mb-1"><strong class="text-red-500">*</strong>Status</label>
    <p-toggleswitch
    id="status"
      [(ngModel)]="role.status"
      name="status"
      #status="ngModel"
      [required]="true"
      [class.ng-invalid]="status.invalid && (status.touched || roleForm.submitted)"
      [class.ng-dirty]="status.dirty || status.touched"
    ></p-toggleswitch>
    <div *ngIf="status.errors && status.touched">
      <p-message severity="error" size="small" variant="simple" *ngIf="status?.errors?.['required']">Status is required</p-message>
   </div>
  </div>

  <div class="w-1/2 flex flex-col">
    <label for="dynamic_menu" class="mb-1"><strong class="text-red-500">*</strong>Dynamic Menu</label>
    <p-toggleswitch
    id="dynamic_menu"
      [(ngModel)]="role.dynamic_menu"
      name="dynamic_menu"
      #dynamic_menu="ngModel"
      [class.ng-invalid]="dynamic_menu.invalid && (dynamic_menu.touched || roleForm.submitted)"
      [class.ng-dirty]="dynamic_menu.dirty || dynamic_menu.touched"
      [required]="true"
    ></p-toggleswitch>
    <div *ngIf="dynamic_menu.errors && dynamic_menu.touched">
      <p-message severity="error" size="small" variant="simple" *ngIf="dynamic_menu?.errors?.['required']">Dynamic menu is required</p-message>
   </div>
  </div>
</div>
    <div class="mt-4 flex gap-4">
  <div class="w-1/4">
    <button
      (click)="saveRole()"
      [disabled]="roleForm.form.invalid"
      class="w-full py-2 px-4 rounded-full border border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"
    >
      <i class="pi pi-check"></i>
      Save
    </button>
  </div>
  <div class="w-1/4">
    <button
      type="reset"
      class="w-full py-2 px-4 rounded-full border border-red-600 text-red-600 hover:bg-red-600 hover:text-white flex items-center justify-center gap-2">
      <i class="pi pi-times"></i>Reset
    </button>
  </div>
</div>

</form>
