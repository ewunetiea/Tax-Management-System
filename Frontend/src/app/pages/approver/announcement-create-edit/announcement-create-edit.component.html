<!-- <p-dialog [(visible)]="visible" [style]="{ width: '600px' }" header="Announcement Details" [modal]="true" (onHide)="onCancel()">
    <ng-template #content>
        <div class="flex flex-col gap-6">
            <div> <label for="title" class="block font-bold mb-3">Title</label>
                <input id="title" type="text" pInputText [(ngModel)]="announcement.title" required autocomplete="off"
                    fluid />
            </div>
            <div> <label for="message" class="block font-bold mb-3">Message Content</label> <textarea id="message"
                    pTextarea [(ngModel)]="announcement.message" required rows="3" cols="20" fluid></textarea> </div>
            <div> <span class="block font-bold mb-4">Audience</span>
                <div class="grid grid-cols-12 gap-4">
                    <div class="flex items-center gap-2 col-span-6"> <p-radiobutton id="category1" name="audience"
                            value="Branch Users" [(ngModel)]="announcement.audience" /> <label for="category1">Branch
                            Users</label> </div>
                    <div class="flex items-center gap-2 col-span-6"> <p-radiobutton id="category2" name="audience"
                            value="Branch Managers" [(ngModel)]="announcement.audience" /> <label for="category2">Branch
                            Managers</label> </div>
                    <div class="flex items-center gap-2 col-span-6"> <p-radiobutton id="category4" name="audience"
                            value="HO Users" [(ngModel)]="announcement.audience" /> <label for="category4">HO
                            users</label> </div>
                    <div class="flex items-center gap-2 col-span-6"> <p-radiobutton id="category4" name="audience"
                            value="All" [(ngModel)]="announcement.audience" /> <label for="category4">ALL </label>
                    </div>
                </div>
            </div>
            <div class="grid grid-cols-12 gap-4">
                <div class="col-span-6"> <label for="created_date" class="block font-bold mb-3">Created Date</label>
                    <p-datepicker id="created_date" [(ngModel)]="announcement.created_date" dateFormat="dd-mm-yy"
                        [showIcon]="true" [readonlyInput]="true" inputId="created_date"
                        placeholder="Select created date"> </p-datepicker> </div>
                <div class="col-span-6"> <label for="expiry_date" class="block font-bold mb-3">Expiry Date</label>
                    <p-datepicker id="expiry_date" [(ngModel)]="announcement.expiry_date" dateFormat="dd-mm-yy"
                        [showIcon]="true" [readonlyInput]="true" inputId="expiry_date" placeholder="Select expiry date">
                    </p-datepicker> </div>
            </div>
            <div>
                <div> <p-fileUpload name="demo[]" mode="advanced" [multiple]="false" [maxFileSize]="1000000"
                        customUpload="true"
                        accept="image/*,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"
                        (onSelect)="onFileSelect($event)"> <ng-template #empty>
                            <div>Drag and drop files here to upload (Image, PDF, Word).</div>
                        </ng-template> </p-fileUpload> </div>
            </div>
        </div>
    </ng-template> <ng-template #footer> <p-button label="Cancel" icon="pi pi-times" text (click)="onCancel()" />
        <p-button label="Save" icon="pi pi-check" (click)="onSave()" /> </ng-template> </p-dialog>
 -->


<p-dialog [(visible)]="visible" [style]="{ width: '600px' }" header="Announcement Details" [modal]="true"
    (onHide)="onCancel()">
    <ng-template #content>
        <form ngNativeValidate #announcementForm="ngForm" class="p-fluid" (ngSubmit)="onSave()">
            <div class="flex flex-col gap-6">
                <div class="p-field">
                    <label for="title" class="block font-bold mb-3"><strong class="text-danger">*</strong> Title</label>
                    <input id="title" type="text" pInputText [(ngModel)]="announcement.title" name="title" required
                        autocomplete="off" fluid />
                    <div *ngIf="announcementForm.controls['title']?.invalid && announcementForm.controls['title']?.touched"
                        class="text-danger">
                        Title is required.
                    </div>
                </div>
                <!-- <div class="p-field">
                    <label for="message" class="block font-bold mb-3"><strong class="text-danger">*</strong> Message
                        Content</label>
                    <textarea id="message" pTextarea [(ngModel)]="announcement.message" name="message" required rows="3"
                        cols="20" fluid></textarea>
                    <div *ngIf="announcementForm.controls['message']?.invalid && announcementForm.controls['message']?.touched"
                        class="text-danger">
                        Message content is required.
                    </div>
                </div> -->

                <div class="p-field">
                    <label for="message" class="block font-bold mb-3"><strong class="text-danger">*</strong> Message
                        Body</label>


                    <p-editor name="message" id="message" [(ngModel)]="announcement.message"
                        [style]="{ height: '320px' }" />
                </div>



                <div class="p-field">
                    <span class="block font-bold mb-4">Audience</span>
                    <div class="grid grid-cols-12 gap-4">
                        <div class="flex items-center gap-2 col-span-6">
                            <p-radiobutton id="category1" name="audience" value="Branch Users"
                                [(ngModel)]="announcement.audience" required />
                            <label for="category1">Branch Users</label>
                        </div>
                        <div class="flex items-center gap-2 col-span-6">
                            <p-radiobutton id="category2" name="audience" value="Branch Managers"
                                [(ngModel)]="announcement.audience" required />
                            <label for="category2">Branch Managers</label>
                        </div>
                        <div class="flex items-center gap-2 col-span-6">
                            <p-radiobutton id="category3" name="audience" value="HO Users"
                                [(ngModel)]="announcement.audience" required />
                            <label for="category3">HO Users</label>
                        </div>
                        <div class="flex items-center gap-2 col-span-6">
                            <p-radiobutton id="category4" name="audience" value="All"
                                [(ngModel)]="announcement.audience" required />
                            <label for="category4">All</label>
                        </div>
                    </div>
                    <div *ngIf="announcementForm.controls['audience']?.invalid && (announcementForm.controls['audience']?.touched || announcementForm.submitted)"
                        class="text-danger">
                        Audience selection is required.
                    </div>
                </div>
                <div class="grid grid-cols-12 gap-4">
                    <div class="col-span-6">
                        <label for="created_date" class="block font-bold mb-3"><strong class="text-danger">*</strong>
                            Created Date</label>
                        <p-datepicker id="created_date" [(ngModel)]="announcement.created_date" name="created_date"
                            dateFormat="dd-mm-yy" [showIcon]="true" [readonlyInput]="true" inputId="created_date"
                            placeholder="Select created date" required></p-datepicker>
                        <div *ngIf="announcementForm.controls['created_date']?.invalid && announcementForm.controls['created_date']?.touched"
                            class="text-danger">
                            Created date is required.
                        </div>
                    </div>
                    <div class="col-span-6">
                        <label for="expiry_date" class="block font-bold mb-3"><strong class="text-danger">*</strong>
                            Expiry Date</label>
                        <p-datepicker id="expiry_date" [(ngModel)]="announcement.expiry_date" name="expiry_date"
                            dateFormat="dd-mm-yy" [showIcon]="true" [readonlyInput]="true" inputId="expiry_date"
                            placeholder="Select expiry date" required></p-datepicker>
                        <div *ngIf="announcementForm.controls['expiry_date']?.invalid && announcementForm.controls['expiry_date']?.touched"
                            class="text-danger">
                            Expiry date is required.
                        </div>
                    </div>
                </div>
                <div class="p-field">
                    <label for="fileUpload" class="block mb-3">Upload Files</label>
                    <p-fileUpload name="demo[]" mode="advanced" [multiple]="false" [maxFileSize]="1000000"
                        customUpload="true"
                        accept="image/*,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"
                        (onSelect)="onFileSelect($event)">
                        <ng-template #empty>
                            <div>Drag and drop files here to upload (Image, PDF, Word).</div>
                        </ng-template>
                    </p-fileUpload>
                </div>
            </div>
            <div class="p-formgrid p-grid mt-4" style="display: flex; justify-content: space-between; gap: 1rem;">
                <p-button pButton pRipple label="Cancel" icon="pi pi-times" text (click)="onCancel()"
                    class="p-button-rounded"></p-button>

                <p-button pButton pRipple type="submit" label="Save" icon="pi pi-check"
                    [disabled]="announcementForm.invalid" class="p-button-rounded"></p-button>
            </div>

        </form>
    </ng-template>
</p-dialog>