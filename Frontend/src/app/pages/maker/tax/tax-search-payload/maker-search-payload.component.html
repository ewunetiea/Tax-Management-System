<p-card>
    <form (ngSubmit)="onSubmit()" ngNativeValidate #taxForm="ngForm" class="p-fluid">

        <div *ngIf="routeControl === 'drafted'"
            class="flex items-center justify-center text-xl font-semibold text-purple-600 mb-3 space-x-2">
            <i class="pi pi-pencil text-blue-500"></i>
            <span>Search Drafted Taxes</span>
        </div>

        <div *ngIf="routeControl === 'submited'"
            class="flex items-center justify-center text-xl font-semibold text-blue-600 mb-3 space-x-2">
            <i class="pi pi-send text-green-500"></i>
            <span>Search Submitted Taxes</span>
        </div>

        <div *ngIf="routeControl === 'rejected'"
            class="flex items-center justify-center text-xl font-semibold text-red-600 mb-3 space-x-2">
            <i class="pi pi-times-circle text-red-500"></i>
            <span>Search Rejected Taxes</span>
        </div>
         <div *ngIf="routeControl === 'approved'"
            class="flex items-center justify-center text-xl font-semibold text-green-600 mb-3 space-x-2">
            <i class="pi pi-send text-green-500"></i>
            <span>Search Approved Taxes</span>
        </div>
    <div *ngIf="routeControl === 'generalstatus'"
     class="flex items-center justify-center text-xl font-semibold text-green-600 mb-3 space-x-2">
<i class="pi pi-spinner pi-spin bg-gradient-to-r from-green-400 to-blue-500 text-transparent bg-clip-text"></i>
  <span>Search Tax Progress</span>
</div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">

            <!-- <div class="p-field">
                <label for="branch_id" class="block font-bold mb-3">Unit</label>
                <p-select id="branch_id" [options]="branches" name="branch_id" [(ngModel)]="payload.branch_id"
                    optionLabel="name" optionValue="id" [filter]="true" [loading]="branchLoading"
                    [placeholder]="branchLoading ? 'Loading...' : 'Select One'" (onClick)="getBranches()"
                    class="w-full h-14 "></p-select>

            </div> -->


             <div class="p-field" *ngIf="routeControl !='generalstatus'" >
                <label for="branch_name" class="block font-bold mb-3">Initiator Branch</label>

                <input pInputText id="branch_name" name="branch_name" [(ngModel)]="payload.branch_name"
                    type="text" autocomplete="off" class="w-full h-14 " readonly />
            </div>

              <div class="p-field" *ngIf="routeControl ==='generalstatus'">
                <label for="status_id" class="block font-bold mb-3"> Status of Tax</label>
                <p-select id="status_id" name="status_id" [options]="status" [(ngModel)]="payload.status_id"
                    optionLabel="name" optionValue="id" [filter]="true" placeholder="Select Tax Status"
                    class="w-full h-14 "></p-select>
            </div>


            <div class="p-field">
                <label for="tax_category_id" class="block font-bold mb-3">Tax Type</label>
                <p-select id="tax_category_id" name="tax_category_id" [options]="taxCategories"
                    [(ngModel)]="payload.tax_category_id" optionLabel="type" optionValue="id" [filter]="true"
                    [loading]="taxCategoryLoading" [placeholder]="taxCategoryLoading ? 'Loading...' : 'Select Tax Type'"
                    (onClick)="getTaxCategories()" class="w-full h-14 "></p-select>
            </div>

          

            <div class="p-field" *ngIf="routeControl !='approved'">
                <label for="reference_number" class="block font-bold mb-3">Reference Number</label>

                <input pInputText id="reference_number" name="reference_number" [(ngModel)]="payload.reference_number"
                    type="text" autocomplete="off" class="w-full h-14 " />
            </div>



            <div class="p-field" *ngIf="routeControl != 'rejected'">
                <label for="maker_date" class="block font-bold mb-3">
                    <strong class="text-danger"></strong> Created Date
                </label>
                <p-datepicker id="maker_date" [(ngModel)]="payload.maker_date" name="maker_date" dateFormat="dd-mm-yy"
                    [showIcon]="true" [readonlyInput]="true" inputId="maker_date" [selectionMode]="'range'"
                    placeholder="Select created date" required class="w-full custom-datepicker"></p-datepicker>


            </div>

            <div class="p-field" *ngIf="routeControl ==='rejected' || routeControl ==='generalstatus' ">
                <label for="maker_date" class="block font-bold mb-3">
                    <strong class="text-danger"></strong> Rejected Date
                </label>
                <p-datepicker id="rejected_date" [(ngModel)]="payload.rejected_date" name="rejected_date"
                    dateFormat="dd-mm-yy" [showIcon]="true" [readonlyInput]="true" inputId="rejected_date" [selectionMode]="'range'"
                    placeholder="Select created date" required class="w-full custom-datepicker"></p-datepicker>

            </div>

            <div class="p-field" *ngIf="routeControl ==='approved' || routeControl ==='generalstatus' ">
                <label for="maker_date" class="block font-bold mb-3">
                    <strong class="text-danger"></strong> Checking Date
                </label>
                <p-datepicker id="checked_date" [(ngModel)]="payload.checked_date" name="checked_date"
                    dateFormat="dd-mm-yy" [showIcon]="true" [readonlyInput]="true" inputId="checked_date"
                    placeholder="Select created date" required class="w-full custom-datepicker" [selectionMode]="'range'"></p-datepicker>

            </div>

            <div class="w-full flex justify-center mt-6 ">
                <div class="flex gap-10 ">
                    <p-button label="Search" icon="pi pi-search" [loading]="submitted" type="submit" severity="primary">
                    </p-button>

                    <p-button label="Reset" icon="pi pi-refresh" type="button" (click)="onReset()" severity="danger">
                    </p-button>
                </div>
            </div>



        </div>
    </form>

</p-card>